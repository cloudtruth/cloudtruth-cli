query EnvironmentsQuery($organizationId: ID) {
  viewer {
    id
    organization(id: $organizationId) {
      environments {
        nodes {
          id
          name
          description
          ancestors {
            name
          }
          parent {
            name
          }
        }
      }
    }
  }
}

query GetEnvironmentByNameQuery($organizationId: ID, $environmentName: String) {
  viewer {
    organization(id: $organizationId) {
      environment(name: $environmentName) {
        id
        name
        description
        ancestors {
          name
        }
        parent {
          name
        }
      }
    }
  }
}

mutation CreateEnvironmentMutation($organizationId: ID, $environmentName: String!, $parentId: ID!, $description: String) {
  createEnvironment(input: { organizationId: $organizationId, name: $environmentName, parentId: $parentId, description: $description}) {
    clientMutationId
    environment {
      id
    }

    errors {
      path
      message
    }
  }
}

mutation UpdateEnvironmentMutation($environmentId: ID!, $description: String) {
  updateEnvironment(input: { id: $environmentId, description: $description }) {
    clientMutationId
    environment {
      id
    }

    errors {
      path
      message
    }
  }
}
