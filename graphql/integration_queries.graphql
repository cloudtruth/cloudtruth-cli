query IntegrationsQuery($organizationId: ID) {
  viewer {
    organization(id: $organizationId) {
      integrations {
        nodes {
          __typename
          id
          fqn
          name
        }
      }
    }
  }
}

mutation DeleteAwsIntegrationMutation($integrationId: ID!) {
  deleteAwsIntegration(input: { id: $integrationId }) {
    clientMutationId
    deletedAwsIntegrationId

    errors {
      path
      message
    }
  }
}

mutation DeleteGithubIntegrationMutation($integrationId: ID!) {
  deleteGithubIntegration(input: { id: $integrationId }) {
    clientMutationId
    deletedGithubIntegrationId

    errors {
      path
      message
    }
  }
}

query IntegrationNodeQuery($entryId: ID!) {
  node(id: $entryId) {
    __typename
    ... on GithubIntegration {
      id
      name
      fqn
      entries {
        __typename
        id
        name
        fqn
      }
    }
    ... on AwsIntegration {
      id
      name
      fqn
      entries {
        __typename
        id
        name
        fqn
      }
    }
    ... on IntegrationFileTree {
      id
      name
      fqn
      entries {
        __typename
        id
        name
        fqn
      }
    }
    ... on IntegrationFile {
      id
      name
      fqn
      mimeType
      json
    }
    ... on IntegrationServiceTree {
      id
      name
      fqn
      entries {
        __typename
        id
        name
        fqn
      }
    }
  }
}
